---
http_interactions:
  - request:
      method: post
      uri: http://localhost:6000/api/v1/identity/login
      body:
        encoding: UTF-8
        string: '{"name":"volcanic","secret":"volcanic!123","dataset_id":"-1","audience":["*"]}'
      headers:
        Authorization:
          - Bearer
        Content-Type:
          - application/json
    response:
      status:
        code: 200
        message: OK
      headers:
        X-Powered-By:
          - Express
        Access-Control-Allow-Origin:
          - "*"
        X-Auth-Request-Id:
          - offline_awsRequestId_6982705165285104
        Content-Type:
          - application/json; charset=utf-8
        Content-Length:
          - '542'
        Etag:
          - W/"21e-QiTyznrkztejeQxRPR6jYl5h6nA"
        Cache-Control:
          - no-cache
        Vary:
          - accept-encoding
        Date:
          - Tue, 04 Feb 2020 06:19:30 GMT
        Connection:
          - keep-alive
      body:
        encoding: UTF-8
        string: '{"requestID":"offline_awsRequestId_6982705165285104","response":{"token":"eyJhbGciOiJFUzUxMiIsInR5cCI6IkpXVCIsImtpZCI6ImE1ZjUzZmEyNWYyZjgyYTM4NDNjNGFmMTFiZDgwMWExIn0.eyJleHAiOjc1ODA3OTcxNzAsInN1YiI6InVzZXI6Ly9zYW5kYm94Ly0xL3ZvbGNhbmljL3ZvbGNhbmljIiwibmJmIjoxNTgwNzk3MTcwLCJhdWRpZW5jZSI6WyIqIl0sImlhdCI6MTU4MDc5NzE3MCwiaXNzIjoidm9sY2FuaWNfYXV0aF9zZXJ2aWNlX2FwMiJ9.AKFs7NKuzF5hLDdyDv0uOgikMIWbcpiw5ZFqVN1zi-bdb-WeghpD3RtmIma6eNZoPOfRZtXjf7PN4_6ZMPQevXLJAVjiF32q438MCWyTaGpOleG4J9pU2tM5t35LakUYjY6KOiO1a4tSYjKg0euFghXbzafPcY2zvBJ5p17mR1wOkYiL"}}'
      http_version:
    recorded_at: Tue, 04 Feb 2020 06:19:30 GMT
  - request:
      method: post
      uri: http://localhost:6000/api/v1/identity
      body:
        encoding: UTF-8
        string: '{"source":"password","secret":null,"skip_secret_encryption":false,"privileges":[],"roles":[],"secretless":false,"name":"mock_name","principal_id":"principal_id"}'
      headers:
        Authorization:
          - Bearer eyJhbGciOiJFUzUxMiIsInR5cCI6IkpXVCIsImtpZCI6ImE1ZjUzZmEyNWYyZjgyYTM4NDNjNGFmMTFiZDgwMWExIn0.eyJleHAiOjc1ODA3OTcxNzAsInN1YiI6InVzZXI6Ly9zYW5kYm94Ly0xL3ZvbGNhbmljL3ZvbGNhbmljIiwibmJmIjoxNTgwNzk3MTcwLCJhdWRpZW5jZSI6WyIqIl0sImlhdCI6MTU4MDc5NzE3MCwiaXNzIjoidm9sY2FuaWNfYXV0aF9zZXJ2aWNlX2FwMiJ9.AKFs7NKuzF5hLDdyDv0uOgikMIWbcpiw5ZFqVN1zi-bdb-WeghpD3RtmIma6eNZoPOfRZtXjf7PN4_6ZMPQevXLJAVjiF32q438MCWyTaGpOleG4J9pU2tM5t35LakUYjY6KOiO1a4tSYjKg0euFghXbzafPcY2zvBJ5p17mR1wOkYiL
        Content-Type:
          - application/json
    response:
      status:
        code: 201
        message: Created
      headers:
        X-Powered-By:
          - Express
        Access-Control-Allow-Origin:
          - "*"
        X-Auth-Request-Id:
          - offline_awsRequestId_9513141693535117
        Content-Type:
          - application/json; charset=utf-8
        Content-Length:
          - '241'
        Etag:
          - W/"f1-CKNu2CqFm32r3QOIZiI7fWmARGw"
        Cache-Control:
          - no-cache
        Vary:
          - accept-encoding
        Date:
          - Tue, 04 Feb 2020 06:19:31 GMT
        Connection:
          - keep-alive
      body:
        encoding: UTF-8
        string: '{"requestID":"offline_awsRequestId_9513141693535117","response":{"name":"mock_name","secret":"mock_secret","source":"password","dataset_id":"mock_dataset_id","updated_at":"2020-02-04T06:19:30.946Z","created_at":"2020-02-04T06:19:30.946Z","id":"mock_identity_id"}}'
      http_version:
    recorded_at: Tue, 04 Feb 2020 06:19:31 GMT
recorded_with: VCR 5.0.0
